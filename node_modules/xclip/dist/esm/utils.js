import * as path from "path";
import { mkdir } from "shelljs";
import * as fs from "fs";
function prepareDirForFile(filePath) {
    const dirName = path.dirname(filePath);
    try {
        mkdir("-p", dirName);
    }
    catch (error) {
        return false;
    }
    return true;
}
function base64Encode(file) {
    const bitmap = fs.readFileSync(file);
    return Buffer.from(bitmap).toString("base64");
}
function stripFinalNewline(input) {
    const LF = typeof input === "string" ? "\n" : "\n".charCodeAt(0);
    const CR = typeof input === "string" ? "\r" : "\r".charCodeAt(0);
    if (input[input.length - 1] === LF) {
        input = input.slice(0, -1);
    }
    if (input[input.length - 1] === CR) {
        input = input.slice(0, -1);
    }
    return input;
}
export { prepareDirForFile, stripFinalNewline, base64Encode, };
